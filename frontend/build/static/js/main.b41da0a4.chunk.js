(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,n,t){e.exports=t(75)},50:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(37),o=t.n(l),i=(t(50),t(24)),c=t(8),s=(t(51),t(2)),m=t(3);function u(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  font-family: 'Raleway' ;\n  min-height: 90vh;\n  background-color: #ebddca;\n\n  h1 {\n    font-family: 'Abril Fatface' ;\n    font-size:80px;\n    strong {\n      opacity: 0.7;\n    }\n  }\n\n  .flex {\n    display: flex;\n    margin-top: 50px;\n    div {\n      width: 50%;\n      display:flex;\n      flex-direction: column;\n      \n      align-items:center;\n    }\n  }\n\n  .flex-homepage {\n    text-align: right;\n    div {\n      justify-content: center;\n      img {\n        margin-right: 100px;\n        width: 60%;\n        border: 2px solid black;\n      }\n\n      h1 {\n        font-size: 180px;\n        line-height: 100px;\n      }\n    }\n  }\n\n  .flex-index {\n    div {\n      h1 {\n      font-size: 100px;\n      line-height: 60px;\n      margin: 50px;\n      strong {\n        padding-left: 20px;\n      }\n    }\n  }    \n\n  .plant-flex {\n    align-items: flex-end;\n    width: 100%;\n    padding: 50px;\n  }\n    \n"]);return u=function(){return e},e}var d=m.b.div(u()),p=function(){return r.a.createElement(d,null,r.a.createElement("h1",null,"Ooops..something went wrong"))},f=function(){return r.a.createElement(d,null,r.a.createElement("div",{className:"flex flex-homepage"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://images.pexels.com/photos/1451471/pexels-photo-1451471.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260"})),r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("strong",null,"Plants")," ",r.a.createElement("br",null)," Life"))))},g=t(11),h=t.n(g),b=t(15),v=t(16),y=t(17),x=t(20),E=t(18),w=t(21),k=t(41),j=function(e){localStorage.setItem("token",e)},O=function(){return localStorage.getItem("token")},N=function(){localStorage.removeItem("token")},C=function(){var e=function(){var e=O();if(!e)return!1;var n=e.split(".");return!(n.length<3)&&JSON.parse(atob(n[1]))}();return Math.round(Date.now()/1e3)<e.exp},R={common:{"X-CSRF-TOKEN":t.n(k).a.get("csrftoken")},headers:{Authorization:"Bearer ".concat(O())}},S=t(19);function F(){var e=Object(s.a)(["\n  background-color: #F2EBE4;\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  font-family: 'Raleway' ;\n  width: 90%;\n  margin: 50px;\n  padding: 20px;\n  border: 2px solid black;\n  p {\n    text-align: right;\n    font-size: 35px;\n  }\n"]);return F=function(){return e},e}var M=m.b.div(F()),z=t(22),A=t.n(z),L=function(e){var n=e.plant,t=function(e,n){var t=A()(e,"YYYY-MM-DD"),a=A()().startOf("day"),r=A.a.duration(a.diff(t)).asDays();return r<n-1?"ok":r>=n-1&&r<=n+1?"water":r>n+1?"danger":null}(n.last_watered,n.water_frequency);return r.a.createElement(M,{"data-testid":"plantContainer"},r.a.createElement("p",null,n.nickname),t&&r.a.createElement("p",{"data-testid":"plantEmoji"},"ok"===t&&"\ud83c\udf3f","water"===t&&"\ud83d\udeb0","danger"===t&&"\u2757\ufe0f"))},D=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(x.a)(this,(e=Object(E.a)(n)).call.apply(e,[this].concat(r)))).state={data:[]},t.getPlantsData=Object(b.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.get)("/api/plants",R);case 3:n=e.sent,a=n.data,t.setState({data:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.props.history.push("/error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.componentDidMount=function(){t.getPlantsData()},t}return Object(w.a)(n,e),Object(y.a)(n,[{key:"render",value:function(){return r.a.createElement(d,null,r.a.createElement("div",{className:"flex flex-index"},r.a.createElement("div",null,r.a.createElement("h1",null,"My ",r.a.createElement("br",null),r.a.createElement("strong",null,"Terranium"))),r.a.createElement("div",{className:"plant-flex"},this.state.data.map((function(e){return r.a.createElement(L,{key:e.id,plant:e})})))))}}]),n}(r.a.Component),I=t(10),B=t(42);function P(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  font-family: 'Raleway' ;\n  font-size: 24px;\n  background-color: #ebddca;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  min-height: 15vh;\n  padding: 20px;\n"]);return P=function(){return e},e}var Y=m.b.nav(P());function _(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  font-family: 'Raleway' ;\n  font-size: 20px;\n  background-color: #ebddca;\n  border: 2px solid black;\n  padding: 10px;\n  margin: 20px;\n\n"]);return _=function(){return e},e}var J=m.b.button(_());function H(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  \n  .modal-card-head, .modal-card-foot, .modal-card-body {\n    background-color: transparent;\n    border: none;\n  }\n\n  .modal-card-title {\n    color: #ebddca;\n    font-family: 'Raleway' ;\n    font-size: 40px;\n    font-weight:bold;\n  }\n\n  .input {\n    font-family: 'Raleway' ;\n    border-radius: 0;\n    font-size: 22px;\n    border: 2px solid black;\n  }\n\n  small {\n    color: red;\n  }\n"]);return H=function(){return e},e}var T=m.b.div(H()),W=function(e){var n=e.error,t=e.name,a=e.fields,l=e.handleChange,o=e.handleSubmit,i=e.onClose;return r.a.createElement(T,{className:"modal is-active"},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},t),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:i})),r.a.createElement("form",{onSubmit:function(e){return o(e,t)}},r.a.createElement("section",{className:"modal-card-body"},a.map((function(e,n){return r.a.createElement("div",{key:n,className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",Object(I.a)({className:"input",type:"text",name:e,placeholder:e.charAt(0).toUpperCase()+e.slice(1),onChange:l},"type","password"===e||"password_confirmation"===e?"password":"text"))))})),r.a.createElement("small",null,n)),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement(J,{type:"submit"},"Submit"),r.a.createElement(J,{onClick:i},"Cancel")))))},q=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(x.a)(this,(e=Object(E.a)(n)).call.apply(e,[this].concat(r)))).state={toggle:!1,fields:[],formName:"",data:{},error:""},t.toggleModal=function(e){var n=e.target.value;if(n){var a="Login"===n?["email","password"]:["username","email","password","password_confirmation"];t.setState({toggle:!t.state.toggle,fields:a,formName:n})}else t.setState({toggle:!t.state.toggle,fields:[],formName:"",data:{},error:""})},t.navigate=function(e){t.props.history.push(e)},t.handleSubmit=function(){var e=Object(b.a)(h.a.mark((function e(n,a){var r,l,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r="/api/".concat(a.toLowerCase()),e.prev=2,e.next=5,Object(S.post)(r,t.state.data,R);case 5:l=e.sent,o=l.data,"Login"===a&&j(o.token),t.toggleModal({target:{value:""}}),"Login"===a&&t.navigate("/plants"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.setState({error:"Invalid Crendentials"});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n,t){return e.apply(this,arguments)}}(),t.handleChange=function(e){var n=e.target,a=n.name,r=n.value,l=Object(B.a)({},t.state.data,Object(I.a)({},a,r));t.setState({data:l})},t.logoutNav=function(){N(),t.navigate("/")},t}return Object(w.a)(n,e),Object(y.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null,!C()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{value:"Login",onClick:this.toggleModal},"Login"),r.a.createElement(J,{value:"Register",onClick:this.toggleModal},"Register")),C()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{value:"Homepage",onClick:function(){return e.navigate("/plants")}},"Homepage"),r.a.createElement(J,{value:"Logout",onClick:this.logoutNav},"Logout"))),this.state.toggle&&r.a.createElement(W,{error:this.state.error,name:this.state.formName,fields:this.state.fields,onClose:this.toggleModal,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),n}(r.a.Component),K=Object(c.f)(q);function U(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway&display=swap');\n  font-family: 'Raleway' ;\n  font-size: 24px;\n  background-color: #ebddca;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 15vh;\n  padding: 20px;\n"]);return U=function(){return e},e}var X=m.b.footer(U()),$=function(){return r.a.createElement(X,null,"Plants Life \ud83c\udf31 Made by Mia")};function G(){var e=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n    text-decoration: none;\n  }\n\n  html, body {\n    margin: 0px;\n  }\n\n  main {\n    min-height: 100vh;\n    color: black;\n  }\n"]);return G=function(){return e},e}var Q=Object(m.a)(G());function V(){var e=Object(s.a)(["\n  background-color: #ebddca;\n"]);return V=function(){return e},e}var Z=m.b.div(V()),ee=function(){return r.a.createElement(i.a,null,r.a.createElement(Q,null),r.a.createElement(Z,null,r.a.createElement(K,null),r.a.createElement("main",null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/plants",component:D}),r.a.createElement(c.a,{exact:!0,path:"/",component:f}),r.a.createElement(c.a,{path:"/*",component:p}))),r.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.b41da0a4.chunk.js.map